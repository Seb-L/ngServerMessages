"use strict";angular.module("ngServerMessages",[]).config(["$httpProvider",function(e){e.interceptors.push(["$rootScope","$q",function(e,r){return{request:function(r){return e.$broadcast("server.request.ok",r),r},requestError:function(n){return e.$broadcast("server.start.error",n),r.reject(n)},response:function(r){return e.$broadcast("server.response.ok",r),r},responseError:function(n){return e.$broadcast("server.response.error",n),r.reject(n)}}}])}]).directive("ngServerMessages",function(){return{restrict:"A",require:"ngServerMessages",controller:["$scope","$attrs","$rootScope",function(e,r){this.endpoint=r.ngServerMessages}]}}).directive("ngServerMessage",function(){return{restrict:"A",require:"^ngServerMessages",link:function(e,r,n,s){function o(e,o,t){e===s.endpoint&&(o===parseInt(n.ngServerMessage)&&r.css({display:"block"}),t&&r.css({display:"none"}))}r.css({display:"none"}),e.$on("server.request.ok",function(e,r){o(r.headers["X-ng-service-name"],null,!0)}),e.$on("server.response.ok",function(e,r){o(r.config.headers["X-ng-service-name"],r.status)}),e.$on("server.response.error",function(e,r){o(r.config.headers["X-ng-service-name"],r.status)})}}}).directive("ngServerMessageLoading",function(){return{restrict:"A",require:"^ngServerMessages",link:function(e,r,n,s){function o(e,n){e===s.endpoint&&r.css(n?{display:"block"}:{display:"none"})}r.css({display:"none"}),e.$on("server.request.ok",function(e,r){o(r.headers["X-ng-service-name"],!0)}),e.$on("server.response.ok",function(e,r){o(r.config.headers["X-ng-service-name"],!1)}),e.$on("server.response.error",function(e,r){o(r.config.headers["X-ng-service-name"],!1)})}}}).directive("ngServerMessageDefault",function(){return{restrict:"A",require:"^ngServerMessages",link:function(e,r,n,s){function o(e){e===s.endpoint&&r.css({display:"none"})}r.css({display:"block"}),e.$on("server.request.ok",function(e,r){o(r.headers["X-ng-service-name"])}),e.$on("server.response.ok",function(e,r){o(r.config.headers["X-ng-service-name"])}),e.$on("server.response.error",function(e,r){o(r.config.headers["X-ng-service-name"])})}}});